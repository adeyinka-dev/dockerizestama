{% extends "user_base.html" %} 

<!-- load static files  -->
{% load static %}

<!-- page title -->
{% block title %} Dashboard {% endblock title %} 

<!-- start page content -->
{% block content %}

<div class="mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10">
  <div class="mx-auto max-w-242.5">
    <!-- Breadcrumb Start -->
    <div
      class="mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"
    >
      <h2 class="text-title-sm text-black dark:text-white">
        User Dashboard
      </h2>

      <nav>
        <ol class="flex items-center gap-2">
          <li>
            <a class="font-medium" href="#">{{ user.room.hostel.name }} /</a>
          </li>
          <li style="color: #fb8500">Profile</li>
        </ol>
      </nav>
    </div>
    <!-- Breadcrumb End -->

    <!-- ====== Profile Section Start -->
    <div
      class="overflow-hidden rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"
    >
      <div class="relative z-20 h-30 md:h-65"></div>
      <div class="px-4 pb-6 text-center lg:pb-8 xl:pb-11.5">
        <div
          class="relative z-30 mx-auto -mt-22 h-30 w-full max-w-30 rounded-full bg-white/20 p-1 backdrop-blur sm:h-44 sm:max-w-44 sm:p-3"
        >
          <div class="relative drop-shadow-2 h-full w-full">
            {% if user.user_image %}
            <img
              class="rounded-full object-cover h-full w-full"
              src="{{ user.user_image.url }}"
              alt="profile"
            />
            {% else %}
            <img
              class="rounded-full object-cover h-full w-full"
              src="{% static 'img/settingsphot.png' %}"
              alt="profile"
            />
            {% endif %}
            <label
              for="profile"
              class="absolute bottom-0 right-0 flex h-8.5 w-8.5 cursor-pointer items-center justify-center rounded-full text-white hover:bg-opacity-90 sm:bottom-2 sm:right-2"
              style="background: #fb8500"
            >
              <svg
                class="fill-current"
                width="14"
                height="14"
                viewBox="0 0 14 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4.76464 1.42638C4.87283 1.2641 5.05496 1.16663 5.25 1.16663H8.75C8.94504 1.16663 9.12717 1.2641 9.23536 1.42638L10.2289 2.91663H12.25C12.7141 2.91663 13.1592 3.101 13.4874 3.42919C13.8156 3.75738 14 4.2025 14 4.66663V11.0833C14 11.5474 13.8156 11.9925 13.4874 12.3207C13.1592 12.6489 12.7141 12.8333 12.25 12.8333H1.75C1.28587 12.8333 0.840752 12.6489 0.512563 12.3207C0.184375 11.9925 0 11.5474 0 11.0833V4.66663C0 4.2025 0.184374 3.75738 0.512563 3.42919C0.840752 3.101 1.28587 2.91663 1.75 2.91663H3.77114L4.76464 1.42638ZM5.56219 2.33329L4.5687 3.82353C4.46051 3.98582 4.27837 4.08329 4.08333 4.08329H1.75C1.59529 4.08329 1.44692 4.14475 1.33752 4.25415C1.22812 4.36354 1.16667 4.51192 1.16667 4.66663V11.0833C1.16667 11.238 1.22812 11.3864 1.33752 11.4958C1.44692 11.6052 1.59529 11.6666 1.75 11.6666H12.25C12.4047 11.6666 12.5531 11.6052 12.6625 11.4958C12.7719 11.3864 12.8333 11.238 12.8333 11.0833V4.66663C12.8333 4.51192 12.7719 4.36354 12.6625 4.25415C12.5531 4.14475 12.4047 4.08329 12.25 4.08329H9.91667C9.72163 4.08329 9.53949 3.98582 9.4313 3.82353L8.43781 2.33329H5.56219Z"
                  fill=""
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M7.00004 5.83329C6.03354 5.83329 5.25004 6.61679 5.25004 7.58329C5.25004 8.54979 6.03354 9.33329 7.00004 9.33329C7.96654 9.33329 8.75004 8.54979 8.75004 7.58329C8.75004 6.61679 7.96654 5.83329 7.00004 5.83329ZM4.08337 7.58329C4.08337 5.97246 5.38921 4.66663 7.00004 4.66663C8.61087 4.66663 9.91671 5.97246 9.91671 7.58329C9.91671 9.19412 8.61087 10.5 7.00004 10.5C5.38921 10.5 4.08337 9.19412 4.08337 7.58329Z"
                  fill=""
                />
              </svg>
              <input type="file" name="profile" id="profile" class="sr-only" />
            </label>
          </div>
        </div>
        <div class="mt-4">
          <h3 class="mb-1.5 text-2xl font-medium text-black dark:text-white">
            {{user.first_name}} {{user.last_name}}
          </h3>
          <p class="font-medium">{{ user.department }}</p>
          <div
            class="mx-auto mt-4.5 mb-5.5 grid max-w-94 grid-cols-3 rounded-md border border-stroke py-2.5 shadow-1 dark:border-strokedark dark:bg-[#37404F]"
          >
            <div
              class="flex flex-col items-center justify-center gap-1 border-r border-stroke px-4 dark:border-strokedark xsm:flex-row"
            >
              <span class="text-sm"></span>
              <span class="text-black dark:text-white"
                >{{user.room.room_number}}</span
              >
            </div>
            <div
              class="flex flex-col items-center justify-center gap-1 border-r border-stroke px-4 dark:border-strokedark xsm:flex-row"
            >
              <span class="text-black dark:text-white"
                >{{ user.matric_num }}</span
              >
            </div>
            <div
              class="flex flex-col items-center justify-center gap-1 border-r border-stroke px-4 dark:border-strokedark xsm:flex-row"
            >
              <span class="text-black dark:text-white text-success"
                >{{ user.rent_validity }}</span
              >
            </div>
          </div>

          <div class="mx-auto max-w-180">
            <div
              class="mb-7.5 flex flex-wrap gap-5 xl:gap-7.5 items-center justify-center"
            >
              <a
                href="#"
                class="inline-flex items-center justify-center gap-2.5 rounded-md py-2 px-5 text-center font-medium text hover:bg-opacity-90 lg:px-8 xl:px-10 text-black dark:text-white"
              >
                <span>
                  <svg
                    class="fill-current"
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512"
                  >
                    <path
                      d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"
                    />
                  </svg>
                </span>
                {{user.email}}
              </a>
              <a
                href="#"
                class="inline-flex items-center justify-center gap-2.5 rounded-md py-2 px-5 text-center font-medium text hover:bg-opacity-90 lg:px-8 xl:px-10 text-black dark:text-white"
              >
                <span>
                  <svg
                    class="fill-current"
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512"
                  >
                    <path
                      d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"
                    />
                  </svg>
                </span>
                {{user.phone_number}}
              </a>
            </div>
          </div>

          <div class="mt-8">
            <h4 class="mb-2">Next of Kin</h4>
            <div class="flex items-center justify-center gap-3.5">
              <a
                href="#"
                class="inline-flex items-center justify-center gap-2.5 border border-danger py-2 px-5 text-center font-medium text-danger hover:bg-opacity-90 lg:px-8 xl:px-10"
              >
                <span> </span>
                {{user.nok_name}} - {{user.nok_phone}}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- ====== Profile Section End -->
  </div>
</div>

{% endblock content %}
